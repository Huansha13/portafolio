<div id="miNavBar" class="nav-main shadow-3 md:px-4">
  <nav class="container flex align-items-center px-3 lg:px-0">
    <b routerLink="" class="text-primary font-fira-code cursor-pointer">yefer<span class="text-900">Frank();</span></b>
    <div class="space"></div>
    @if (settings.view.lg) {
      <div class="section-2">
        <ng-container [ngTemplateOutlet]="itemsMenu"></ng-container>
      </div>
    } @else {
      <div class="flex align-items-center gap-2">
        <ng-container [ngTemplateOutlet]="btnTheme"></ng-container>
        <p-button (onClick)="sidebarVisible = true;" [icon]="'pi pi-bars'" [rounded]="true" [text]="true"></p-button>
      </div>
    }
  </nav>
</div>

<p-sidebar [(visible)]="sidebarVisible">
  <ng-template pTemplate="header">
    <b routerLink="" class="text-primary font-fira-code">yefer<span class="text-900">Frank();</span></b>
  </ng-template>
  <ng-template pTemplate="content">
    <div class="items-menu-sidebar">
      <ng-container *ngTemplateOutlet="itemsMenu"></ng-container>
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <div class="flex align-items-center justify-content-between text-center opacity-50">
      <a class="no-underline text-color w-full" title="{{ 'menu.downloadCode' | translate }}"
         href="https://github.com/Huansha13/portafolio.git" target="_blank">
        <i class="uil uil-code-branch"></i> V. {{ version }}
      </a>
    </div>
  </ng-template>
</p-sidebar>

<ng-template #itemsMenu>
  <div class="items">
    <a class="no-underline" routerLink="/" routerLinkActive="activo" [routerLinkActiveOptions]="{exact: true}">{{ 'menu.home' | translate }}</a>
    <a (click)="sidebarVisible = false" class="no-underline" routerLink="/contact" routerLinkActive="activo" [routerLinkActiveOptions]="{exact: true}">{{ 'menu.contact' | translate }}</a>
    <a (click)="sidebarVisible = false" class="no-underline" routerLink="/git-hub" routerLinkActive="activo" [routerLinkActiveOptions]="{exact: true}">{{ 'menu.repository' | translate }}</a>
    <a class="no-underline">
      <p-dropdown [options]="optIdioma"
                  [(ngModel)]="idioma"
                  optionValue="code" (onChange)="selectIdioma()"
                  class="p-inputtext-sm"
                  styleClass="w-full"
                  optionLabel="name">
      </p-dropdown>
    </a>
    @if (settings.view.lg) {
      <a class="no-underline text-gray-500" title="{{ 'menu.downloadCode' | translate }}"
         href="https://github.com/Huansha13/portafolio.git" target="_blank">
        <i class="uil uil-code-branch"></i> V. {{ version }}
      </a>
      <a class="no-underline">
        <ng-container *ngTemplateOutlet="btnTheme"></ng-container>
      </a>
    }
  </div>
</ng-template>

<ng-template #btnTheme>
  <p-button [icon]="getCurrentThemeIcon()" 
            (onClick)="cycleTheme()" 
            [rounded]="true"
            [outlined]="true"
            [pTooltip]="getCurrentThemeLabel()"
            tooltipPosition="bottom">
  </p-button>
</ng-template>
